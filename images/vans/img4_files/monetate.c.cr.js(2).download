monetate.c.cr({"data": "console.log(\"33log: v1 apparel: script loading\");\ntry {\n\taddMiniMe = function (skuToCheck) {\n\t\tvar matchToType = \"\";\n\t\tvar matchFrom = \"\";\n\t\tvar matchTo = \"\";\n\n\t\t//these two arrays should always match in length\n\t\tvar adultsSKUs = [\"VN000LC0BLK\", \"VN0A5FKYZFM\", \"VN0A5FKY86V\", \"VN0A3W4KYSY\", \"VN0A49R5ZFM\", \"VN0A49R586V\", \"VN0A7PYHYV9\", \"VN0A7S4XYV9\", \"VN0A5FJXDZ9\", \"VN0A5FJXBLK\", \"VN0A7SMYYUQ\", \"VN0A7SMYZ2O\", \"VN0A7SOHBLK\", \"VN0A7PJZYV9\", \"VN0A7PLVWHT\", \"VN0A5KMNYV9\", \"VN0A5KMPUXL\", \"VN000XRZWHT\", \"VN000XSEWHT\", \"VN000XRZWHT\", \"VN000XSEWHT\", \"VN000XRZBLK\", \"VN000XSEBLK\", \"VN0A5LI3FS8\", \"VN0A5LCFFS8\", \"VN0A5FKW95Y\", \"VN000GGGYB2\", \"VN0A4Q4BBLK\", \"VN0A5FKWYSJ\", \"VN0A3W4KYTD\", \"VN0A5FKC1O7\", \"VN000GGGY28\", \"VN0A7PKABLK\", \"VN0A7PL87VJ\", \"VN0A3H3OHU0\", \"VN000XTTBLK\", \"VN000XS9BLK\", \"VN0A5JH4BLK\", \"VN0A4S9WBLK\"];\n\t\tvar kidsSKUs = [\"VN0A3HZJBLK\", \"VN0A7SH3ZFM\", \"VN0A7SH386V\", \"VN0A7SH4YSY\", \"VN0A7SH5ZFM\", \"VN0A7SH586V\", \"VN0A7SH2YV9\", \"VN0A7SHIYV9\", \"VN0A5FLLDZ9\", \"VN0A5FLLBLK\", \"VN0A3HTLO5P\", \"VN0A3HTLYVQ\", \"VN0A7SI8BLK\", \"VN0A7SHAYV9\", \"VN0A7SI5WHT\", \"VN0A7SFXYV9\", \"VN0A7SG1UXL\", \"VN000XNQWHT\", \"VN000XNQWHT\", \"VN000YBRWHT\", \"VN000YBRWHT\", \"VN000YBRBLK\", \"VN000YBRBLK\", \"VN0A7RS7FS8\", \"VN0A5LEGBLK\", \"VN0A7SHK95Y\", \"VN000IVFYB2\", \"VN0001A2BLK\", \"VN0A7SHKYSJ\", \"VN0A7SH4YTD\", \"VN0A7SHF1O7\", \"VN000IVFY28\", \"VN0A7SHCBLK\", \"VN0A7SI97VJ\", \"VN0A3I74HU0\", \"VN0A3E2ZJ8Z\", \"VN0A3E2ZJ8Z\", \"VN0A53OXY28\", \"VN0A5ATXY28\"];\n\n\t\tfunction findType(skuToMatch) {\n\t\t\tif (kidsSKUs.indexOf(skuToMatch) != -1) {\n\t\t\t\tmatchToType = \"adults\";\n\t\t\t\tmatchFrom = kidsSKUs.indexOf(skuToMatch);\n\t\t\t\tmatchTo = adultsSKUs[matchFrom];\n\t\t\t\treturn true;\n\t\t\t} else if (adultsSKUs.indexOf(skuToMatch) != -1) {\n\t\t\t\tmatchToType = \"kids\";\n\t\t\t\tmatchFrom = adultsSKUs.indexOf(skuToMatch);\n\t\t\t\tmatchTo = kidsSKUs[matchFrom];\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tif (findType(skuToCheck)) {\n\t\t\t//add the swatch drop down link:\n\t\t\tif (document.getElementById(\"miniMeLink\")) {\n\t\t\t\t//if we've already created the link area\n\t\t\t\tdocument.getElementById(\"miniMeLink\").setAttribute(\"href\", \"/-p\" + matchTo); //set the link href\n\t\t\t\tdocument.getElementById(\"miniMeLink\").style.display = \"block\"; //make it visible\n\t\t\t} else {\n\t\t\t\tvar miniMeText = document.createElement(\"div\");\n\t\t\t\tminiMeText.id = \"miniMeText\";\n\t\t\t\tminiMeText.innerHTML = \"<a id='miniMeLink' href='/-p\" + matchTo + \"' style='font-size:15px' class='vf-link'>Also available for \" + matchToType + \"</a>\";\n\t\t\t\tdocument.querySelectorAll(\".color-swatch__wrapper\")[0].appendChild(miniMeText);\n\t\t\t}\n\n\t\t\t//add drop down\n\t\t\tif (!document.getElementById(\"miniMeOption\")) {\n\t\t\t\tvar miniMeOption = document.createElement(\"option\");\n\t\t\t\tminiMeOption.id = \"miniMeOption\";\n\t\t\t\tminiMeOption.value = \"Also available for \" + matchToType;\n\t\t\t\tminiMeOption.innerText = \"Also available for \" + matchToType;\n\t\t\t\tdocument.querySelectorAll(\"div.product-sizes__select select.vf-select__select\")[0].appendChild(miniMeOption);\n\n\t\t\t\t//set up appropriate \"redirect\"/linky action when menu is clicked\n\t\t\t\tdocument.querySelectorAll(\"div.product-sizes__select select.vf-select__select\")[0].addEventListener(\"change\", function () {\n\t\t\t\t\tconsole.log(\"33log: v1 apparel: change of attr-size detected\");\n\t\t\t\t\tvar currentValue = this.value;\n\t\t\t\t\tif (currentValue == \"Also available for \" + matchToType) {\n\t\t\t\t\t\tconsole.log(\"33log: v2: changing href action of dropdown option\");\n\t\t\t\t\t\twindow.location.href = \"/-p\" + matchTo + \"?icn=miniMeMatch\" + matchToType.substring(0, 1); //if the user chose the Minime option, redirect them to that product page\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconsole.log(\"33log: minime already existed\");\n\t\t\t}\n\t\t} else {\n\t\t\tif (document.getElementById(\"miniMeLink\")) {\n\t\t\t\tdocument.getElementById(\"miniMeLink\").style.display = \"none\";\n\t\t\t} //just hiding because we can swap out the href easily enough\n\t\t\tif (document.getElementById(\"miniMeOption\")) {\n\t\t\t\tdocument.getElementById(\"miniMeOption\").remove();\n\t\t\t} //removing altogether so we can rebuild it, since the .change function would need to change too\n\t\t}\n\t};\n\n\tvar skuToCheck = document.querySelectorAll(\"meta[property='og:productId']\")[0].getAttribute(\"content\");\n\n\taddMiniMe(skuToCheck); //fire when the page loads\n} catch (e) {\n\tconsole.log(\"33log: v1 apparel: error: \" + e);\n}\n", "ref": "383/4231178.js"});