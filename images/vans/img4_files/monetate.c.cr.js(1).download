monetate.c.cr({"data": "try {\n\tconsole.log(\"33log: minicart free shipping agility test v15\");\n\t//MUTATION OBSERVER- monetate automatically kicks in when the users adds to cart, but not if the user opens the minicart directly, so for them, we listen\n\tif (!window.tx33Observer && document.querySelectorAll(\".minicart\").length != 0) {\n\t\t//FWIW, only applies on desktop\n\t\twindow.tx33Observer = true;\n\t\tconst minicartContents = document.querySelectorAll(\".minicart\")[0];\n\t\tconst MOconfig = { attributes: true, childList: true, subtree: false };\n\t\tconst cartMOCallback = (mutationList, observer) => {\n\t\t\t//console.log(\"33log mutation\",mutationList);\n\t\t\tfor (const mutation of mutationList) {\n\t\t\t\t//console.log(\"33log mutation\", mutation);\n\t\t\tif (mutation.type === \"childList\" && mutation.addedNodes.length == 1 && mutation.addedNodes[0].tagName && mutation.addedNodes[0].tagName.toLowerCase() == \"aside\" && document.querySelectorAll(\"#TX31MiniCartShipping\").length==0) {\n\t\t\t\tvar agilityCartDiv = document.createElement(\"div\");\n\t\t\t\tagilityCartDiv.id = \"TX31MiniCartShipping\";\n\t\t\t\tagilityCartDiv.style = \"padding-top: 10px;font-size: var(--property-name-font-size,var(--font-sm));display: flex;flex-wrap: wrap;justify-content: center;color: black;\";\n\t\t\t\tagilityCartDiv.innerHTML = '<div class=\"33newblock vf-text--center\" style=\"font-size: var(--property-name-font-size,var(--font-sm));display: flex;flex-wrap: wrap;justify-content: center;color: black;\"><div class=\"freeShipping\" style=\"display:flex;width: 80%;justify-content: left;align-items:center;\"><img src=\"https://images.vans.com/is/image/VansBrand/fa21_shop_icon_truck?wid=45&amp;fmt=png-alpha\" class=\"vf-icon\" style=\"margin-right: 10px;\" alt=\"Free Shipping & Returns\"><span>Free shipping &amp; returns</span></div><div class=\"needFast\" style=\"display: flex;width: 80%;justify-content: left;align-items:center;\"><img src=\"https://images.vans.com/is/image/VansBrand/fa21_shop_icon_building?wid=45&amp;fmt=png-alpha\" class=\"vf-icon\" style=\"margin-right: 10px;\" alt=\"Find it in store\"><span>Need it fast? Free same day in store pickup</span></div></div>';\n\t\t\t\t//doublecheck it doesn't already exist\n\t\t\t\tif(document.querySelectorAll(\"#TX31MiniCartShipping\").length==0){\n\t\t\t\t\tdocument.querySelectorAll(\".minicart .vf-sidebar__bottom .minicart__action-items\")[0].prepend(agilityCartDiv);\n\t\t\t\t}\n\t\t\t}}\n\t\t};\n\t\tconst cartObserver = new MutationObserver(cartMOCallback);\n\t\tcartObserver.observe(minicartContents, MOconfig);\n\t} else {\n\t\twindow.tx33Observer = false;\n\t}\n} catch (error) {\n\tconsole.log(\"33log: minicart free shipping agility test error:\", error);\n}", "ref": "383/4724507.js"});