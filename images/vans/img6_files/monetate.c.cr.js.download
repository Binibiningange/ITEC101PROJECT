monetate.c.cr({"data": "try{\n\tconsole.log(\"33log: pdp free shipping agility test v10\");\n\tif (!document.getElementById(\"TX31PDPStoreShipping\")) {\n\n\t\t//hide store overlay modal:\n\t\tdocument.querySelectorAll(\".product-action-buttons button.vf-color-primary\")[0].style = \"display:none;\";\n\t\t\n\n\t\tvar agilityPDPDiv = document.createElement(\"div\");\n\t\tagilityPDPDiv.id = \"TX31PDPStoreShipping\";\n\t\tagilityPDPDiv.style = \"font-size: var(--property-name-font-size,var(--font-sm));display: flex;flex-wrap: wrap;justify-content: center;color: black;\";\n\t\tagilityPDPDiv.innerHTML =\n\t\t\t'<div class=\"33newblock vf-text--center\" style=\"font-size: var(--property-name-font-size,var(--font-2sm));display: flex;flex-wrap: wrap;justify-content: left;color: black; line-height:normal;\"><div class=\"freeShipping\" style=\"display:flex;width: 80%;justify-content: left;\"><img src=\"https://images.vans.com/is/image/VansBrand/fa21_shop_icon_truck?wid=45&amp;fmt=png-alpha\" class=\"vf-icon\" style=\"margin-right: 10px;\" alt=\"Free Shipping & Returns\"><span style=\"padding-top: 5px;\">Free shipping &amp; returns</span></div><div class=\"needFast\" style=\"display: flex;width: 80%;justify-content: left; padding-top:10px\"><div><img src=\"https://images.vans.com/is/image/VansBrand/fa21_shop_icon_building?wid=45&amp;fmt=png-alpha\" class=\"vf-icon\" style=\"margin-right: 10px;\" alt=\"Find it in store\"></div><div style=\"justify-content: left;text-align: left;\"><div style=\"padding-top: 5px;\">Need it fast?</div><div id=\"TX31PDPNoSize\" style=\"color: var(--c-gray);\">Select a size to check store for availability and store pickup options</div><div id=\"TX31PDPWithSize\" style=\"display:none; color: var(--c-gray);\"><button onclick=\"document.querySelectorAll(\\'.product-action-buttons button\\')[3].click()\" class=\"vf-theme-link vf-color-primary vf-size-2sm shipNewButton\" style=\"width:auto; padding:0px; text-align: left;\">Check stores for availability and store pickup options</button></div></div></div></div>';\n\t\tif(document.querySelectorAll(\"#TX31PDPStoreShipping\").length==0){\n\t\t\tdocument.querySelectorAll(\".product-action-buttons:not(.product-action-buttons--heart-only\")[0].prepend(agilityPDPDiv);\n\t\t}\n\n\t\t//if a size is already selected (sometimes people are faster than monetate)\n\t\tif(!document.querySelectorAll(\".product-action-buttons button.vf-color-primary:not(.shipNewButton)\")[0].disabled){\n\t\t\tdocument.getElementById(\"TX31PDPNoSize\").style.display = \"none\";\n\t\t\tdocument.getElementById(\"TX31PDPWithSize\").style.display = \"block\";\n\t\t}\n\n\t\t// Select the node that will be observed for mutations\n\t\tconst existingStoreButton = document.querySelectorAll(\".product-action-buttons:not(.product-action-buttons--heart-only) button:not(.shipNewButton)\")[0];\n\n\t\t// Options for the observer (which mutations to observe)\n\t\tconst storeMOConfig = { attributes: true, childList: true, subtree: true, attributeFilter: [\"disabled\"] };\n\n\t\t// Callback function to execute when mutations are observed\n\t\tconst storeMOCallback = (mutationList, observer) => {\n\t\t\tconsole.log(\"33log button changed\",document.querySelectorAll(\".product-action-buttons button.vf-color-primary:not(.shipNewButton)\")[0].disabled);\n\t\t\tif(!document.querySelectorAll(\".product-action-buttons button.vf-color-primary:not(.shipNewButton)\")[0].disabled){\n\t\t\t\tdocument.getElementById(\"TX31PDPNoSize\").style.display = \"none\";\n\t\t\t\tdocument.getElementById(\"TX31PDPWithSize\").style.display = \"block\";\n\t\t\t}else{\n\t\t\t\tdocument.getElementById(\"TX31PDPNoSize\").style.display = \"block\";\n\t\t\t\tdocument.getElementById(\"TX31PDPWithSize\").style.display = \"none\";\n\t\t\t}\n\t\t};\n\n\t\t// Create an observer instance linked to the callback function\n\t\tconst storeObserver = new MutationObserver(storeMOCallback);\n\n\t\t// Start observing the target node for configured mutations\n\t\tstoreObserver.observe(existingStoreButton, storeMOConfig);\n\n\t}\n}catch(e){\n\tconsole.log(\"33log PDP blurb error:\",e);\n}", "ref": "383/4724494.js"});